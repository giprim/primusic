{"ast":null,"code":"var _jsxFileName = \"/home/gi/NODEWORKSPACE/REACT/primusic/src/components/resultPage.tsx\";\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nconst ResultPage = () => {\n  const search_result = useSelector(state => state.search);\n  const history = useHistory();\n  useEffect(() => {\n    console.log(search_result.data === ''); // if (search_result.data === {}) history.push('/');\n  }, []);\n\n  const PerResult = tracks => {\n    const {\n      track\n    } = tracks;\n    return React.createElement(\"div\", {\n      key: track.id,\n      className: \"col-lg-3 p-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"p-3 gi-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: track.album.cover_big,\n      className: \"img-fluid\",\n      alt: track.album.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      className: \"h3 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, truncateText(track.title)), React.createElement(\"h6\", {\n      className: \"text-center h6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, track.artist.name)));\n  };\n\n  const array = [];\n\n  for (let i = 0; i < search_result.data.length; i++) {\n    array.push(search_result.data[i]);\n  }\n\n  const handleNextFetch = () => {\n    console.log(search_result.next);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, array.length ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, array && array.map(track => React.createElement(PerResult, {\n    key: track.id,\n    track: track,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    onClick: handleNextFetch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"next\")) : React.createElement(\"div\", {\n    className: \"d-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spinner-border mx-auto mt-5\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Loading...\"))));\n};\n\nconst truncateText = text => {\n  let iniText = text.split(' ');\n  return iniText.length < 4 ? iniText.join(' ').toString() : `${iniText.splice(0, 4).join(' ')}...`;\n};\n\nexport default ResultPage;","map":{"version":3,"sources":["/home/gi/NODEWORKSPACE/REACT/primusic/src/components/resultPage.tsx"],"names":["React","useEffect","useSelector","useHistory","ResultPage","search_result","state","search","history","console","log","data","PerResult","tracks","track","id","album","cover_big","title","truncateText","artist","name","array","i","length","push","handleNextFetch","next","map","text","iniText","split","join","toString","splice"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nconst ResultPage = () => {\n\tconst search_result = useSelector((state: any) => state.search);\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tconsole.log(search_result.data === '');\n\t\t// if (search_result.data === {}) history.push('/');\n\t}, []);\n\n\tconst PerResult = (tracks: any) => {\n\t\tconst { track } = tracks;\n\t\treturn (\n\t\t\t<div key={track.id} className='col-lg-3 p-3'>\n\t\t\t\t<div className='p-3 gi-box'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={track.album.cover_big}\n\t\t\t\t\t\tclassName='img-fluid'\n\t\t\t\t\t\talt={track.album.title}\n\t\t\t\t\t/>\n\t\t\t\t\t<h4 className='h3 text-center'>{truncateText(track.title)}</h4>\n\t\t\t\t\t<h6 className='text-center h6'>{track.artist.name}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst array: any[] = [];\n\n\tfor (let i = 0; i < search_result.data.length; i++) {\n\t\tarray.push(search_result.data[i]);\n\t}\n\tconst handleNextFetch = () => {\n\t\tconsole.log(search_result.next);\n\t};\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t{array.length ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t{array &&\n\t\t\t\t\t\t\tarray.map((track) => <PerResult key={track.id} track={track} />)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={handleNextFetch}>next</button>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t<div className='spinner-border mx-auto mt-5' role='status'>\n\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst truncateText = (text: string) => {\n\tlet iniText = text.split(' ');\n\treturn iniText.length < 4\n\t\t? iniText.join(' ').toString()\n\t\t: `${iniText.splice(0, 4).join(' ')}...`;\n};\n\nexport default ResultPage;\n"]},"metadata":{},"sourceType":"module"}