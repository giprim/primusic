{"ast":null,"code":"var _jsxFileName = \"/home/gi/NODEWORKSPACE/REACT/primusic/src/components/resultPage.tsx\";\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport fetchNext from '../redux/actions/fetchNext';\nimport { LOADING } from '../redux/types';\nimport { UnorderedListOutlined, AppstoreOutlined, ArrowUpOutlined } from '@ant-design/icons';\nimport SkeletonComp from './skeleton/skeleton';\nimport PerResult from './PerResult/PerResult';\nconst pages = [];\n\nconst ResultPage = () => {\n  const search_result = useSelector(state => state.search);\n  const dispatch = useDispatch();\n  const [toggleList, setToggleList] = useState(true);\n  const [pagination, setPagination] = useState(pages);\n  const [tracks, setTracks] = useState(25);\n  let {\n    loaded\n  } = search_result;\n\n  const handleNextFetch = () => {\n    if (!pagination.find(url => url === search_result.next)) {\n      setPagination([...pagination, search_result.next]);\n    }\n\n    dispatch({\n      type: LOADING\n    });\n    dispatch(fetchNext(search_result.next));\n    setTracks(prev => prev + search_result.data.length);\n  };\n\n  const changeListOrder = () => {\n    setToggleList(prev => !prev);\n  };\n\n  const class_names = {\n    grid: {\n      col: 'col-lg-3',\n      layout: 'gi-grid'\n    },\n    list: {\n      col: 'col-lg-12',\n      layout: 'gi-list'\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5 py-5\",\n    id: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, loaded && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"gi-btn\",\n    onClick: changeListOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, !toggleList ? /*#__PURE__*/React.createElement(UnorderedListOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 22\n    }\n  }) : /*#__PURE__*/React.createElement(AppstoreOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 50\n    }\n  }))), loaded ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, search_result.data && search_result.data.map(track => /*#__PURE__*/React.createElement(PerResult, {\n    key: track.id,\n    track: track,\n    class_name: toggleList ? class_names.grid : class_names.list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex_container py-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: `btn_ ${search_result.prev ? 'show_' : 'hide_'}`,\n    onClick: () => {\n      dispatch({\n        type: LOADING\n      });\n      dispatch(fetchNext(search_result.prev));\n      setTracks(prev => prev - search_result.data.lenght);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"previous\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"track_count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, `${tracks} of ${search_result.total}`), /*#__PURE__*/React.createElement(\"button\", {\n    className: `btn_ ${search_result.next ? 'show_' : 'hide_'}`,\n    onClick: handleNextFetch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, \"next\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: 'skeleton-loaders',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SkeletonComp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonComp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonComp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonComp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 6\n    }\n  })) // <div className='d-flex'>\n  // \t<div className='spinner-border mx-auto mt-5' role='status'>\n  // \t\t<span className='sr-only'>Loading...</span>\n  // \t</div>\n  // </div>\n  , /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#top\",\n    className: `btn_ p_fixed ${loaded ? 'show_' : 'hide_'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ArrowUpOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  })));\n};\n\nexport default ResultPage;","map":{"version":3,"sources":["/home/gi/NODEWORKSPACE/REACT/primusic/src/components/resultPage.tsx"],"names":["React","useState","useSelector","useDispatch","fetchNext","LOADING","UnorderedListOutlined","AppstoreOutlined","ArrowUpOutlined","SkeletonComp","PerResult","pages","ResultPage","search_result","state","search","dispatch","toggleList","setToggleList","pagination","setPagination","tracks","setTracks","loaded","handleNextFetch","find","url","next","type","prev","data","length","changeListOrder","class_names","grid","col","layout","list","map","track","id","lenght","total"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SACCC,qBADD,EAECC,gBAFD,EAGCC,eAHD,QAIO,mBAJP;AAKA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AAEA,MAAMC,KAAe,GAAG,EAAxB;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACxB,QAAMC,aAAa,GAAGX,WAAW,CAAEY,KAAD,IAAgBA,KAAK,CAACC,MAAvB,CAAjC;AACA,QAAMC,QAAQ,GAAGb,WAAW,EAA5B;AACA,QAAM,CAACc,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACkB,UAAD,EAAaC,aAAb,IAA8BnB,QAAQ,CAACU,KAAD,CAA5C;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBrB,QAAQ,CAAC,EAAD,CAApC;AAEA,MAAI;AAAEsB,IAAAA;AAAF,MAAaV,aAAjB;;AAEA,QAAMW,eAAe,GAAG,MAAM;AAC7B,QAAI,CAACL,UAAU,CAACM,IAAX,CAAiBC,GAAD,IAASA,GAAG,KAAKb,aAAa,CAACc,IAA/C,CAAL,EAA2D;AAC1DP,MAAAA,aAAa,CAAC,CAAC,GAAGD,UAAJ,EAAgBN,aAAa,CAACc,IAA9B,CAAD,CAAb;AACA;;AACDX,IAAAA,QAAQ,CAAC;AAAEY,MAAAA,IAAI,EAAEvB;AAAR,KAAD,CAAR;AACAW,IAAAA,QAAQ,CAACZ,SAAS,CAACS,aAAa,CAACc,IAAf,CAAV,CAAR;AACAL,IAAAA,SAAS,CAAEO,IAAD,IAAUA,IAAI,GAAGhB,aAAa,CAACiB,IAAd,CAAmBC,MAArC,CAAT;AACA,GAPD;;AASA,QAAMC,eAAe,GAAG,MAAM;AAC7Bd,IAAAA,aAAa,CAAEW,IAAD,IAAU,CAACA,IAAZ,CAAb;AACA,GAFD;;AAIA,QAAMI,WAAW,GAAG;AACnBC,IAAAA,IAAI,EAAE;AACLC,MAAAA,GAAG,EAAE,UADA;AAELC,MAAAA,MAAM,EAAE;AAFH,KADa;AAKnBC,IAAAA,IAAI,EAAE;AACLF,MAAAA,GAAG,EAAE,WADA;AAELC,MAAAA,MAAM,EAAE;AAFH;AALa,GAApB;AAWA,sBACC;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,EAAE,EAAC,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEb,MAAM,iBACN;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,OAAO,EAAES,eAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,CAACf,UAAD,gBAAc,oBAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAd,gBAA0C,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD5C,CAFF,CADD,EAQEM,MAAM,gBACN,uDACC;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEV,aAAa,CAACiB,IAAd,IACAjB,aAAa,CAACiB,IAAd,CAAmBQ,GAAnB,CAAwBC,KAAD,iBACtB,oBAAC,SAAD;AACC,IAAA,GAAG,EAAEA,KAAK,CAACC,EADZ;AAEC,IAAA,KAAK,EAAED,KAFR;AAGC,IAAA,UAAU,EAAEtB,UAAU,GAAGgB,WAAW,CAACC,IAAf,GAAsBD,WAAW,CAACI,IAHzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAFF,CADD,eAWC;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AACC,IAAA,SAAS,EAAG,QAAOxB,aAAa,CAACgB,IAAd,GAAqB,OAArB,GAA+B,OAAQ,EAD3D;AAEC,IAAA,OAAO,EAAE,MAAM;AACdb,MAAAA,QAAQ,CAAC;AAAEY,QAAAA,IAAI,EAAEvB;AAAR,OAAD,CAAR;AACAW,MAAAA,QAAQ,CAACZ,SAAS,CAACS,aAAa,CAACgB,IAAf,CAAV,CAAR;AACAP,MAAAA,SAAS,CAAEO,IAAD,IAAUA,IAAI,GAAGhB,aAAa,CAACiB,IAAd,CAAmBW,MAArC,CAAT;AACA,KANF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAWC;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgC,GAAEpB,MAAO,OAAMR,aAAa,CAAC6B,KAAM,EAAnE,CAXD,eAaC;AACC,IAAA,SAAS,EAAG,QAAO7B,aAAa,CAACc,IAAd,GAAqB,OAArB,GAA+B,OAAQ,EAD3D;AAEC,IAAA,OAAO,EAAEH,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbD,CAXD,CADM,gBAiCN;AAAK,IAAA,SAAS,EAAE,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,eAEC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAIC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,CAjCM,CAuCN;AACA;AACA;AACA;AACA;AAnDF,iBAqDC;AAAG,IAAA,IAAI,EAAC,MAAR;AAAe,IAAA,SAAS,EAAG,gBAAeD,MAAM,GAAG,OAAH,GAAa,OAAQ,EAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CArDD,CADD;AA2DA,CA5FD;;AA8FA,eAAeX,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport fetchNext from '../redux/actions/fetchNext';\nimport { LOADING } from '../redux/types';\nimport {\n\tUnorderedListOutlined,\n\tAppstoreOutlined,\n\tArrowUpOutlined,\n} from '@ant-design/icons';\nimport SkeletonComp from './skeleton/skeleton';\nimport PerResult from './PerResult/PerResult';\n\nconst pages: string[] = [];\n\nconst ResultPage = () => {\n\tconst search_result = useSelector((state: any) => state.search);\n\tconst dispatch = useDispatch();\n\tconst [toggleList, setToggleList] = useState(true);\n\tconst [pagination, setPagination] = useState(pages);\n\tconst [tracks, setTracks] = useState(25);\n\n\tlet { loaded } = search_result;\n\n\tconst handleNextFetch = () => {\n\t\tif (!pagination.find((url) => url === search_result.next)) {\n\t\t\tsetPagination([...pagination, search_result.next]);\n\t\t}\n\t\tdispatch({ type: LOADING });\n\t\tdispatch(fetchNext(search_result.next));\n\t\tsetTracks((prev) => prev + search_result.data.length);\n\t};\n\n\tconst changeListOrder = () => {\n\t\tsetToggleList((prev) => !prev);\n\t};\n\n\tconst class_names = {\n\t\tgrid: {\n\t\t\tcol: 'col-lg-3',\n\t\t\tlayout: 'gi-grid',\n\t\t},\n\t\tlist: {\n\t\t\tcol: 'col-lg-12',\n\t\t\tlayout: 'gi-list',\n\t\t},\n\t};\n\n\treturn (\n\t\t<div className='container mt-5 py-5' id='top'>\n\t\t\t<div className='py-4'>\n\t\t\t\t{loaded && (\n\t\t\t\t\t<button className='gi-btn' onClick={changeListOrder}>\n\t\t\t\t\t\t{!toggleList ? <UnorderedListOutlined /> : <AppstoreOutlined />}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{loaded ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t{search_result.data &&\n\t\t\t\t\t\t\tsearch_result.data.map((track: any) => (\n\t\t\t\t\t\t\t\t<PerResult\n\t\t\t\t\t\t\t\t\tkey={track.id}\n\t\t\t\t\t\t\t\t\ttrack={track}\n\t\t\t\t\t\t\t\t\tclass_name={toggleList ? class_names.grid : class_names.list}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='flex_container py-5'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={`btn_ ${search_result.prev ? 'show_' : 'hide_'}`}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tdispatch({ type: LOADING });\n\t\t\t\t\t\t\t\tdispatch(fetchNext(search_result.prev));\n\t\t\t\t\t\t\t\tsetTracks((prev) => prev - search_result.data.lenght);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tprevious\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<span className='track_count'>{`${tracks} of ${search_result.total}`}</span>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={`btn_ ${search_result.next ? 'show_' : 'hide_'}`}\n\t\t\t\t\t\t\tonClick={handleNextFetch}>\n\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<div className={'skeleton-loaders'}>\n\t\t\t\t\t<SkeletonComp />\n\t\t\t\t\t<SkeletonComp />\n\t\t\t\t\t<SkeletonComp />\n\t\t\t\t\t<SkeletonComp />\n\t\t\t\t</div>\n\t\t\t\t// <div className='d-flex'>\n\t\t\t\t// \t<div className='spinner-border mx-auto mt-5' role='status'>\n\t\t\t\t// \t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t// \t</div>\n\t\t\t\t// </div>\n\t\t\t)}\n\t\t\t<a href='#top' className={`btn_ p_fixed ${loaded ? 'show_' : 'hide_'}`}>\n\t\t\t\t<ArrowUpOutlined />\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n\nexport default ResultPage;\n"]},"metadata":{},"sourceType":"module"}